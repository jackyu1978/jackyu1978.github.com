<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>杰克的烦恼 &middot; 杰克奶爸</title>

  
  <link rel="stylesheet" href="http://jackyu1978.github.io/css/poole.css">
  <link rel="stylesheet" href="http://jackyu1978.github.io/css/hyde.css">
  <link rel="stylesheet" href="http://jackyu1978.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="http://jackyu1978.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://jackyu1978.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="http://jackyu1978.github.io/css/highlight/dark.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://jackyu1978.github.io/touch-icon-144-precomposed.png">
  <link href="http://jackyu1978.github.io/favicon.png" rel="icon">

  
  
  
  <link href="http://jackyu1978.github.io/index.xml" rel="alternate" type="application/rss+xml" title="杰克的烦恼 &middot; 杰克奶爸" />

  <meta name="description" content="Your default page description">
  <meta name="keywords" content="your,default,page,keywords">
  <link rel="author" href="http://plus.google.com/Your%20Google&#43;%20profile%20ID">
</head>
<body class="theme-base-07">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
        <img src="http://jackyu1978.github.io/img/author.png"
             alt="author" title="杰克奶爸">
      <h1>杰克奶爸</h1>
      <p class="lead">做一个思考者</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://jackyu1978.github.io/">Blog</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="http://www.github.com/jackyu1978"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      
      
      
      
      
      <a href="http://jackyu1978.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

    <p>Copyright &copy; 2015 All rights reserved.<br/>
    </p>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://jackyu1978.github.io/blog/2015/12/24/%E5%88%A9%E7%94%A8nginx%E9%98%B2%E5%BE%A1ddos%E6%94%BB%E5%87%BB/">利用nginx防御DDoS攻击</a>
      </h1>
      <span class="post-date">Dec 24, 2015 &middot; 2 minute read
      
      <br/>
      <a  href="http://jackyu1978.github.io/categories/nginx">nginx</a>
      </span>
      
      nginx有很多特性可以用来有效防御DDoS攻击 限制请求频率 DDoS攻击的攻击者的请求频率肯定会大于真实用户请求的频率，这样才能起到攻击的目的，如实我们就可以利用nginx来限制客户端请求的频率，具体设置的阈值可以根据实际业务场景及以前的经验值来确定。 比如你可以配置nginx限制同一IP地址对login页面的请求为每次/2秒（折算成一分钟就是最大30次），超过这个阈值nginx就会阻断： limit_req_zone $binary_remote_addr zone=one:10m rate=30r/m; server { ... location /login.html { limit_req zone=one; ... } } limit_req_zone指令配置一段名字为 one 的共享内存区域，来存储请求状态，关键字为客户端IP($binary_remote_addr)。/login.html 的location块中的limit_req指令引用该共享内存区域。 限制链接数 DDoS的攻击者往往发起大量的网络链接，以期起到攻击目的。所以我们可以限制每个单IP客户端的链接数，甚至可以限制每个客户端IP可以发起到网站特定区域或路径的链接数。比如：限制每个开发可以发起到/store区域的链接数为10： limit_conn_zone $binary_remote_addr zone=addr:10m; server { ... location /store/ { limit_conn addr 10; ... } } limit_conn_zone指令配置一段名字为 addr 的共享内存区域，来存储请求状态，关键字为客户端IP($binary_remote_addr)。/store 的location块中的limit_conn指令引用该共享内存区域,并限制每个IP的链接数最大为10。 注意：国内很多用户都是通过NAT上网，同一个局域网中的用户出口IP是一样的，所以在设置链接数限制时，要考虑这种情况，不然可能会导致服务不可用！ 关闭慢速链接 Http慢速攻击往往也是DDoS攻击中一种常见的攻击形式，利用nginx的client_body_timeout 和 client_header_timeout指令也可以防护这方面的攻击： server { client_body_timeout 5s; client_header_timeout 5s; ... } client_body_timeout指令：控制客户端在两次发送Body数据之间的间隔。 client_header_timeout指令：控制客户端在两次发送http头数据之间的间隔。 设置IP地址黑名单 如果你已经确定某个客户端IP正在发动攻击，可以通过设置IP地址黑名单的方式加以阻断。 设置IP地址段： location / { deny 123.123.123.0/28; ... } 设置单个IP地址： location / { deny 123.123.123.3; deny 123.123.123.5; deny 123.123.123.7; ...
      <a href="http://jackyu1978.github.io/blog/2015/12/24/%E5%88%A9%E7%94%A8nginx%E9%98%B2%E5%BE%A1ddos%E6%94%BB%E5%87%BB/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://jackyu1978.github.io/blog/2015/12/17/%E5%AD%A6%E5%A5%BD%E6%95%B0%E9%87%8F%E5%8C%96%E8%B5%B0%E9%81%8D%E5%A4%A9%E4%B8%8B%E9%83%BD%E4%B8%8D%E6%80%95/">学好数量化走遍天下都不怕？</a>
      </h1>
      <span class="post-date">Dec 17, 2015 &middot; 1 minute read
      
      <br/>
      <a  href="http://jackyu1978.github.io/categories/%E6%9D%82%E8%B0%88">杂谈</a>
      </span>
      
      今天晚上加班和领导过项目进展材料，最后结束的时候领导说 “杰克，你要和某某好好学习写PPT啊！光技术好还不行，写材料也很重要，要让人一看就知道你想表达什么，重点是什么！,光“学好数理化”还不行，还得语文好，会表达！” 其实如果了解28厂的人，在这里写好PPT有多麽重要！这里PPT一般有另一个更好听的名字： “胶片！” 如果你能写好“胶片”，那升职加薪不说指日可待，也是迟早的事。“胶片”文化是28厂的一大特色，可以说是各级员工必备看家本领。 举个例子，厂里有段时间也意识到这种风气的泛滥，然后要求各级领导出措施整改。最后各级领导是这么落实的。 “小王你写个“胶片”，大家讨论下怎么整改滥用“胶片”的问题”。 当然这只是内部流行的一个笑话，但“胶片”文化在28厂可见一般。 写到这里大家可能以为我是批评28厂的“胶片”文化，这是不对的！ 什么事情都写PPT汇报，确实是件很讨厌的事情。但看到别人写出来的东西也确实很佩服，确实写得比我好，条理清晰，有理有据。 这可能跟自己没学好语文确实有关系，现在女儿小学拼音我都不敢辅导，确实够丢脸的，但好在LP语文不错。：） 不得不承认写PPT也是一个自己思维理顺，逻辑思考的一个过程。不为学PPT而学，先训练自己的思维能力吧。 现在GitHub的Blog也弄好了。从今天开始，以后就经常写点什么吧 争取做一个既能Code,又能吹牛皮，能忽悠的厂工！！！
      
      
    </div>
    
    
    
  </div>
</div>


<script src="http://jackyu1978.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
  var _gaq=[['_setAccount','Your Google Analytics tracking code'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

